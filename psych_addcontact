from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMessageBox
import mysql.connector as mc

class Ui_psych_addcontact(object):
    def setupUi(self, psych_addcontact):
        psych_addcontact.setObjectName("psych_addcontact")
        psych_addcontact.resize(740, 540)
        psych_addcontact.setStyleSheet("")
        self.centralwidget = QtWidgets.QWidget(psych_addcontact)
        self.centralwidget.setObjectName("centralwidget")
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setGeometry(QtCore.QRect(0, 0, 781, 511))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setBold(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setText("")
        self.label.setPixmap(QtGui.QPixmap("bkg1.jpg"))
        self.label.setScaledContents(True)
        self.label.setObjectName("label")
        self.label_name = QtWidgets.QLabel(self.centralwidget)
        self.label_name.setGeometry(QtCore.QRect(110, 100, 111, 41))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_name.setFont(font)
        self.label_name.setObjectName("label_name")
        self.label_age = QtWidgets.QLabel(self.centralwidget)
        self.label_age.setGeometry(QtCore.QRect(110, 150, 81, 31))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_age.setFont(font)
        self.label_age.setObjectName("label_age")
        self.label_gender = QtWidgets.QLabel(self.centralwidget)
        self.label_gender.setGeometry(QtCore.QRect(440, 150, 81, 21))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_gender.setFont(font)
        self.label_gender.setObjectName("label_gender")
        self.label_country = QtWidgets.QLabel(self.centralwidget)
        self.label_country.setGeometry(QtCore.QRect(100, 210, 101, 21))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_country.setFont(font)
        self.label_country.setObjectName("label_country")
        self.label_state = QtWidgets.QLabel(self.centralwidget)
        self.label_state.setGeometry(QtCore.QRect(450, 200, 91, 21))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_state.setFont(font)
        self.label_state.setObjectName("label_state")
        self.label_address = QtWidgets.QLabel(self.centralwidget)
        self.label_address.setGeometry(QtCore.QRect(110, 260, 81, 41))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_address.setFont(font)
        self.label_address.setObjectName("label_address")
        self.label_qualifications = QtWidgets.QLabel(self.centralwidget)
        self.label_qualifications.setGeometry(QtCore.QRect(60, 310, 161, 51))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_qualifications.setFont(font)
        self.label_qualifications.setObjectName("label_qualifications")
        self.lineEdit_name = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_name.setGeometry(QtCore.QRect(230, 100, 421, 31))
        self.lineEdit_name.setObjectName("lineEdit_name")
        self.lineEdit_age = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_age.setGeometry(QtCore.QRect(230, 150, 101, 31))
        self.lineEdit_age.setObjectName("lineEdit_age")
        self.lineEdit_gender = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_gender.setGeometry(QtCore.QRect(530, 150, 121, 31))
        self.lineEdit_gender.setObjectName("lineEdit_gender")
        self.lineEdit_country = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_country.setGeometry(QtCore.QRect(230, 200, 181, 31))
        self.lineEdit_country.setObjectName("lineEdit_country")
        self.lineEdit_state = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_state.setGeometry(QtCore.QRect(530, 190, 121, 31))
        self.lineEdit_state.setObjectName("lineEdit_state")
        self.lineEdit_address = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_address.setGeometry(QtCore.QRect(230, 250, 421, 61))
        self.lineEdit_address.setObjectName("lineEdit_address")
        self.lineEdit_qualifications = QtWidgets.QLineEdit(self.centralwidget)
        self.lineEdit_qualifications.setGeometry(QtCore.QRect(230, 330, 421, 61))
        self.lineEdit_qualifications.setObjectName("lineEdit_qualifications")
        self.label_9 = QtWidgets.QLabel(self.centralwidget)
        self.label_9.setGeometry(QtCore.QRect(0, 0, 761, 71))
        self.label_9.setStyleSheet("background-color: rgb(0, 4, 52);\n"
"")
        self.label_9.setText("")
        self.label_9.setObjectName("label_9")
        self.btn_clearcontact = QtWidgets.QPushButton(self.centralwidget)
        self.btn_clearcontact.setGeometry(QtCore.QRect(230, 420, 151, 51))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.btn_clearcontact.setFont(font)
        self.btn_clearcontact.setObjectName("btn_clearcontact")
        self.btn_donecontact = QtWidgets.QPushButton(self.centralwidget)
        self.btn_donecontact.setGeometry(QtCore.QRect(490, 420, 141, 51))
        font = QtGui.QFont()
        font.setFamily("Century Gothic")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.btn_donecontact.setFont(font)
        self.btn_donecontact.setObjectName("btn_donecontact")
        psych_addcontact.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(psych_addcontact)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 758, 21))
        self.menubar.setObjectName("menubar")
        psych_addcontact.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(psych_addcontact)
        self.statusbar.setObjectName("statusbar")
        psych_addcontact.setStatusBar(self.statusbar)

        self.retranslateUi(psych_addcontact)
        QtCore.QMetaObject.connectSlotsByName(psych_addcontact)
       
        #establishing connection        
        self.btn_donecontact.clicked.connect(self.addpsych)
        self.btn_clearcontact.clicked.connect(self.clear)
   
    def addpsych(self):
       
        name= self.lineEdit_name.text()
        age=self.lineEdit_age.text()
        gender=self.lineEdit_gender.text()
        country=self.lineEdit_country.text()
        state=self.lineEdit_state.text()
        address=self.lineEdit_address.text()
        qualifications=self.lineEdit_qualifications.text()
       
        mydb = mc.connect(host="localhost",user="root",passwd="Saumya#237",database="ipproject")
       
        cur = mydb.cursor()
        query=("INSERT INTO psych(name,age,gender,country,state,address,qualifications) values ('{}', '{}', '{}', '{}','{}', '{}','{}')".format(name,age,gender,country,state,address,qualifications))
        cur.execute(query)
        mydb.commit()
       
        msg=QMessageBox()
        msg.setWindowTitle('SUCCESSFUL')
        msg.setText('You have successfully added a record')
        msg.setIcon(QMessageBox.Information)
        msg.setStandardButtons(QMessageBox.Ok)
        x=msg.exec_()        
       
    def clear(self):
        self.lineEdit_name.clear()
        self.lineEdit_age.clear()
        self.lineEdit_gender.clear()
        self.lineEdit_country.clear()
        self.lineEdit_state.clear()
        self.lineEdit_address.clear()
        self.lineEdit_qualifications.clear()

    def retranslateUi(self, psych_addcontact):
        _translate = QtCore.QCoreApplication.translate
        psych_addcontact.setWindowTitle(_translate("psych_addcontact", "MainWindow"))
        self.label_name.setText(_translate("psych_addcontact", "NAME"))
        self.label_age.setText(_translate("psych_addcontact", "AGE"))
        self.label_gender.setText(_translate("psych_addcontact", "GENDER"))
        self.label_country.setText(_translate("psych_addcontact", "COUNTRY"))
        self.label_state.setText(_translate("psych_addcontact", "STATE"))
        self.label_address.setText(_translate("psych_addcontact", "ADDRESS"))
        self.label_qualifications.setText(_translate("psych_addcontact", "QUALIFICATIONS"))
        self.btn_clearcontact.setText(_translate("psych_addcontact", "CLEAR"))
        self.btn_donecontact.setText(_translate("psych_addcontact", "DONE"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    psych_addcontact = QtWidgets.QMainWindow()
    ui = Ui_psych_addcontact()
    ui.setupUi(psych_addcontact)
    psych_addcontact.show()
    sys.exit(app.exec_())
